#!/bin/bash

# The below incantation sets SRC_ROOT to be the canonicalized directory of this script
SRC_ROOT=$(
cd -P -- "$(dirname -- "$0")" &&
printf '%s\n' "$(pwd -P)/$(basename -- "$0")"
) || exit 1
SRC_ROOT=`dirname "$SRC_ROOT"`

# Move up into the actual source root directory
SRC_ROOT="$SRC_ROOT/.."
RV_ROOT="$SRC_ROOT/.."

LOGICPLUGINPATH="$RV_ROOT/lib/plugins"

PLUGINS_CLASSPATH="$RV_ROOT/lib/logicrepository.jar":"$SRC_ROOT/lib/scala-library.jar":"$LOGICPLUGINPATH/ERE.jar":"$LOGICPLUGINPATH/LTL.jar":"$LOGICPLUGINPATH/PTLTL.jar":"$LOGICPLUGINPATH/FSM.jar"

java -cp "$SRC_ROOT/lib/rvc.jar":$PLUGINS_CLASSPATH com.runtimeverification.rvmonitor.c.rvc.Main "$@"

